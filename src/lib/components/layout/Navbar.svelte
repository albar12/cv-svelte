<script lang="ts">
	import Icon from 'svelte-awesome/components/Icon.svelte';
	import {
		faAddressBook,
		faAddressCard,
		faDiagramProject,
		faHome
	} from '@fortawesome/free-solid-svg-icons';
	import { colors } from '$lib';

	let open = false;

	function toggleSidebar() {
		open = !open;
	}
</script>

<nav
	aria-label="Global"
	style="background-color: {colors.darkTeal};"
	class="fixed top-0 left-0 flex w-full items-center justify-between p-6 lg:px-8"
>
	<a href="#home" class="text-xl font-semibold text-white hover:text-gray-300">Alif Akbar</a>

	<div class="flex lg:hidden">
		<button
			type="button"
			command="show-modal"
			commandfor="mobile-menu"
			class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-200"
			on:click={toggleSidebar}
		>
			<span class="sr-only">Open main menu</span>
			<svg
				viewBox="0 0 24 24"
				fill="none"
				stroke="currentColor"
				stroke-width="1.5"
				data-slot="icon"
				aria-hidden="true"
				class="size-6"
			>
				<path
					d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
					stroke-linecap="round"
					stroke-linejoin="round"
				/>
			</svg>
		</button>
	</div>

	<div class="hidden lg:flex lg:flex-1 lg:justify-center lg:gap-x-12">
		<a href="#home" class="text-xl/6 font-semibold text-white hover:text-gray-300">Home</a>
		<a href="#projects" class="text-xl/6 font-semibold text-white hover:text-gray-300">Protofolio</a
		>
		<a href="#about" class="text-xl/6 font-semibold text-white hover:text-gray-300">About</a>
		<a href="#contact" class="text-xl/6 font-semibold text-white hover:text-gray-300">Contact</a>
	</div>
</nav>

<!-- ================== MOBILE SIDEBAR ================== -->
{#if open}
	<!-- OVERLAY -->
	<div
		role="button"
		tabindex="0"
		class="fixed inset-0 z-40 bg-black/40 lg:hidden"
		on:click={() => (open = false)}
		on:keydown={(e) => (e.key === 'Enter' || e.key === ' ') && (open = false)}
	></div>
{/if}

<div
	class="
        fixed top-0 left-0 z-50 h-full w-64 transform bg-white
        shadow-lg transition-transform duration-300 lg:hidden
        {open ? 'translate-x-0' : '-translate-x-full'}
    "
>
	<div class="flex flex-col gap-4 px-4 py-6 text-gray-800">
		<a
			href="#home"
			class="flex items-center gap-2 text-xl/6 font-semibold text-black hover:text-gray-300"
			on:click={() => (open = false)}
		>
			<Icon data={faHome} class="h-5 w-5" />
			<div>Home</div></a
		>
		<a
			href="#projects"
			class="flex items-center gap-2 text-xl/6 font-semibold text-black hover:text-gray-300"
			on:click={() => (open = false)}
		>
			<Icon data={faDiagramProject} class="h-5 w-5" />
			<div>Protofolio</div></a
		>
		<a
			href="#about"
			class="flex items-center gap-2 text-xl/6 font-semibold text-black hover:text-gray-300"
			on:click={() => (open = false)}
		>
			<Icon data={faAddressCard} class="h-5 w-5" />
			<div>About</div></a
		>
		<a
			href="#contact"
			class="flex items-center gap-2 text-xl/6 font-semibold text-black hover:text-gray-300"
			on:click={() => (open = false)}
		>
			<Icon data={faAddressBook} class="h-5 w-5" />
			<div>Contact</div></a
		>
	</div>
</div>
